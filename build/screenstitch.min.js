(function() {var h=void 0,j=!0,k=null,n=!1;function aa(a){return function(){return this[a]}}var r,ba=ba||{},t=this;function ca(a){a=a.split(".");for(var b=t,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function da(){}
function u(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){var b=u(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function fa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function x(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function y(a,b,c){y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return y.apply(k,arguments)}var ka=Date.now||function(){return+new Date};
function la(a,b){var c=a.split("."),d=window||t;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==h?d[e]=b:d=d[e]?d[e]:d[e]={}}function z(a,b){function c(){}c.prototype=b.prototype;a.zb=b.prototype;a.prototype=new c};la("screenstitch.URI","/connect/");la("screenstitch.KEY",k);function ma(a,b){this.B=a;this.Ua=[];this.ya=0;this.L=[];this.u=0;this.eb=b}ma.prototype.Da=function(){for(var a=(new Date).getTime()+15,b=0;b<this.u;++b){var c=this.L[b];if(b<this.u-1){var d=this.L[b+1];if(d.type===c.type&&d.pa<=a)continue}if(this.L[b].pa<=a)this.eb.dispatchEvent(c);else break}b&&(this.u-=b,this.L.splice(0,b));this.u&&(a=this.L[0].pa-(new Date).getTime(),5>a&&(a=5),setTimeout(y(this.Da,this),a))};function na(a){if(!oa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(pa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(qa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ra,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(sa,"&quot;"));return a}var pa=/&/g,qa=/</g,ra=/>/g,sa=/\"/g,oa=/[&<>\"]/;var A,ta,ua,va;function wa(){return t.navigator?t.navigator.userAgent:k}va=ua=ta=A=n;var xa;if(xa=wa()){var ya=t.navigator;A=0==xa.indexOf("Opera");ta=!A&&-1!=xa.indexOf("MSIE");ua=!A&&-1!=xa.indexOf("WebKit");va=!A&&!ua&&"Gecko"==ya.product}var za=A,B=ta,C=va,Aa=ua,Ba=t.navigator,Ca=-1!=(Ba&&Ba.platform||"").indexOf("Mac");function Da(){var a=t.document;return a?a.documentMode:h}var Ea;
a:{var Fa="",Ga;if(za&&t.opera)var Ha=t.opera.version,Fa="function"==typeof Ha?Ha():Ha;else if(C?Ga=/rv\:([^\);]+)(\)|;)/:B?Ga=/MSIE\s+([^\);]+)(\)|;)/:Aa&&(Ga=/WebKit\/(\S+)/),Ga)var Ia=Ga.exec(wa()),Fa=Ia?Ia[1]:"";if(B){var Ja=Da();if(Ja>parseFloat(Fa)){Ea=String(Ja);break a}}Ea=Fa}var Ka={};
function D(a){var b;if(!(b=Ka[a])){b=0;for(var c=String(Ea).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],v=q.exec(l)||["","",""];if(0==p[0].length&&0==v[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==v[1].length?0:parseInt(v[1],10))?-1:(0==p[1].length?0:parseInt(p[1],
10))>(0==v[1].length?0:parseInt(v[1],10))?1:0)||((0==p[2].length)<(0==v[2].length)?-1:(0==p[2].length)>(0==v[2].length)?1:0)||(p[2]<v[2]?-1:p[2]>v[2]?1:0)}while(0==b)}b=Ka[a]=0<=b}return b}var La=t.document,Ma=!La||!B?h:Da()||("CSS1Compat"==La.compatMode?parseInt(Ea,10):5);function E(){0!=Na&&(this.Gb=Error().stack,x(this))}var Na=0;function F(a,b){this.type=a;this.currentTarget=this.target=b}F.prototype.O=n;F.prototype.defaultPrevented=n;F.prototype.fa=j;F.prototype.preventDefault=function(){this.defaultPrevented=j;this.fa=n};var Oa=0;function Pa(){}r=Pa.prototype;r.key=0;r.C=n;r.X=n;r.aa=function(a,b,c,d,e,f){if("function"==u(a))this.La=j;else if(a&&a.handleEvent&&"function"==u(a.handleEvent))this.La=n;else throw Error("Invalid listener argument");this.r=a;this.Va=b;this.src=c;this.type=d;this.capture=!!e;this.ta=f;this.X=n;this.key=++Oa;this.C=n};r.handleEvent=function(a){return this.La?this.r.call(this.ta||this.src,a):this.r.handleEvent.call(this.r,a)};function Qa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var Sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Sa.length;f++)c=Sa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ua=!B||B&&9<=Ma,Va=B&&!D("9");!Aa||D("528");C&&D("1.9b")||B&&D("8")||za&&D("9.5")||Aa&&D("528");C&&!D("8")||B&&D("9");var G=Array.prototype,Wa=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(w(a))return!w(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Xa=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ya(a){return G.concat.apply(G,arguments)}
function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b,c){return 2>=arguments.length?G.slice.call(a,b):G.slice.call(a,b,c)};function ab(a){ab[" "](a);return a}ab[" "]=da;function bb(a,b){a&&this.aa(a,b)}z(bb,F);r=bb.prototype;r.target=k;r.relatedTarget=k;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=n;r.altKey=n;r.shiftKey=n;r.metaKey=n;r.tb=n;r.Ea=k;
r.aa=function(a,b){var c=this.type=a.type;F.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(C){var e;a:{try{ab(d.nodeName);e=j;break a}catch(f){}e=n}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Aa||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=Aa||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.tb=Ca?a.metaKey:a.ctrlKey;this.state=a.state;this.Ea=a;a.defaultPrevented&&this.preventDefault();delete this.O};
r.preventDefault=function(){bb.zb.preventDefault.call(this);var a=this.Ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,Va)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var cb={},H={},I={},J={};
function K(a,b,c,d,e){if("array"==u(b))for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);else{a:{if(!b)throw Error("Invalid event type");d=!!d;var g=H;b in g||(g[b]={a:0,f:0});g=g[b];d in g||(g[d]={a:0,f:0},g.a++);var g=g[d],f=x(a),l;g.f++;if(g[f]){l=g[f];for(var m=0;m<l.length;m++)if(g=l[m],g.r==c&&g.ta==e){if(g.C)break;l[m].X=n;a=l[m];break a}}else l=g[f]=[],g.a++;var q=db,p=Ua?function(a){return q.call(p.src,p.r,a)}:function(a){a=q.call(p.src,p.r,a);if(!a)return a},m=p,g=new Pa;g.aa(c,m,a,b,d,e);g.X=
n;m.src=a;m.r=g;l.push(g);I[f]||(I[f]=[]);I[f].push(g);a.addEventListener?(a==t||!a.Ba)&&a.addEventListener(b,m,d):a.attachEvent(b in J?J[b]:J[b]="on"+b,m);a=g}cb[a.key]=a}}function eb(a,b,c,d,e){if("array"==u(b))for(var f=0;f<b.length;f++)eb(a,b[f],c,d,e);else{d=!!d;a:{f=H;if(b in f&&(f=f[b],d in f&&(f=f[d],a=x(a),f[a]))){a=f[a];break a}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].r==c&&a[f].capture==d&&a[f].ta==e){fb(a[f].key);break}}}
function fb(a){var b=cb[a];if(b&&!b.C){var c=b.src,d=b.type,e=b.Va,f=b.capture;c.removeEventListener?(c==t||!c.Ba)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in J?J[d]:J[d]="on"+d,e);c=x(c);if(I[c]){var e=I[c],g=Wa(e,b);0<=g&&G.splice.call(e,g,1);0==e.length&&delete I[c]}b.C=j;if(b=H[d][f][c])b.Oa=j,gb(d,f,c,b);delete cb[a]}}
function gb(a,b,c,d){if(!d.da&&d.Oa){for(var e=0,f=0;e<d.length;e++)d[e].C?d[e].Va.src=k:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Oa=n;0==f&&(delete H[a][b][c],H[a][b].a--,0==H[a][b].a&&(delete H[a][b],H[a].a--),0==H[a].a&&delete H[a])}}function hb(a,b,c,d,e){var f=1;b=x(b);if(a[b]){var g=--a.f,l=a[b];l.da?l.da++:l.da=1;try{for(var m=l.length,q=0;q<m;q++){var p=l[q];p&&!p.C&&(f&=ib(p,e)!==n)}}finally{a.f=Math.max(g,a.f),l.da--,gb(c,d,b,l)}}return Boolean(f)}
function ib(a,b){a.X&&fb(a.key);return a.handleEvent(b)}
function db(a,b){if(a.C)return j;var c=a.type,d=H;if(!(c in d))return j;var d=d[c],e,f;if(!Ua){e=b||ca("window.event");var g=j in d,l=n in d;if(g){if(0>e.keyCode||e.returnValue!=h)return j;a:{var m=n;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(q){m=j}if(m||e.returnValue==h)e.returnValue=j}}m=new bb;m.aa(e,this);e=j;try{if(g){for(var p=[],v=m.currentTarget;v;v=v.parentNode)p.push(v);f=d[j];f.f=f.a;for(var s=p.length-1;!m.O&&0<=s&&f.f;s--)m.currentTarget=p[s],e&=hb(f,p[s],c,j,m);if(l){f=d[n];f.f=
f.a;for(s=0;!m.O&&s<p.length&&f.f;s++)m.currentTarget=p[s],e&=hb(f,p[s],c,n,m)}}else e=ib(a,m)}finally{p&&(p.length=0)}return e}c=new bb(b,this);return e=ib(a,c)};var jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function L(){E.call(this)}z(L,E);r=L.prototype;r.Ba=j;r.Ta=k;r.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){eb(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=H;if(b in c){if(w(a))a=new F(a,this);else if(a instanceof F)a.target=a.target||this;else{var d=a;a=new F(b,this);Ta(a,d)}var d=1,e,c=c[b],b=j in c,f;if(b){e=[];for(f=this;f;f=f.Ta)e.push(f);f=c[j];f.f=f.a;for(var g=e.length-1;!a.O&&0<=g&&f.f;g--)a.currentTarget=e[g],d&=hb(f,e[g],a.type,j,a)&&a.fa!=n}if(n in c)if(f=c[n],f.f=f.a,b)for(g=0;!a.O&&g<e.length&&f.f;g++)a.currentTarget=e[g],d&=hb(f,e[g],a.type,n,a)&&a.fa!=n;else for(e=this;!a.O&&e&&f.f;e=e.Ta)a.currentTarget=
e,d&=hb(f,e,a.type,n,a)&&a.fa!=n;a=Boolean(d)}else a=j;return a};function M(a,b){E.call(this);this.ba=a||1;this.ja=b||kb;this.la=y(this.Bb,this);this.va=ka()}z(M,L);M.prototype.enabled=n;var kb=t;M.prototype.F=k;M.prototype.Bb=function(){if(this.enabled){var a=ka()-this.va;0<a&&a<0.8*this.ba?this.F=this.ja.setTimeout(this.la,this.ba-a):(this.dispatchEvent(lb),this.enabled&&(this.F=this.ja.setTimeout(this.la,this.ba),this.va=ka()))}};M.prototype.start=function(){this.enabled=j;this.F||(this.F=this.ja.setTimeout(this.la,this.ba),this.va=ka())};
M.prototype.stop=function(){this.enabled=n;this.F&&(this.ja.clearTimeout(this.F),this.F=k)};var lb="tick";function mb(a){if("function"==typeof a.m)return a.m();if(w(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Qa(a)}function nb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||w(a))Xa(a,b,c);else{var d;if("function"==typeof a.M)d=a.M();else if("function"!=typeof a.m)if(ea(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ra(a);else d=h;for(var e=mb(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function ob(a,b){this.o={};this.e=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof ob?(c=a.M(),d=a.m()):(c=Ra(a),d=Qa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}r=ob.prototype;r.a=0;r.bb=0;r.m=function(){pb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.o[this.e[b]]);return a};r.M=function(){pb(this);return this.e.concat()};r.J=function(a){return N(this.o,a)};
r.remove=function(a){return N(this.o,a)?(delete this.o[a],this.a--,this.bb++,this.e.length>2*this.a&&pb(this),j):n};function pb(a){if(a.a!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];N(a.o,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.a!=a.e.length){for(var e={},c=b=0;b<a.e.length;)d=a.e[b],N(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}r.get=function(a,b){return N(this.o,a)?this.o[a]:b};r.set=function(a,b){N(this.o,a)||(this.a++,this.e.push(a),this.bb++);this.o[a]=b};r.t=function(){return new ob(this)};
function N(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function qb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function rb(){}rb.prototype.W=k;var sb;function tb(){}z(tb,rb);function ub(a){return(a=vb(a))?new ActiveXObject(a):new XMLHttpRequest}function wb(a){var b={};vb(a)&&(b[0]=j,b[1]=j);return b}
function vb(a){if(!a.Ka&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ka=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ka}sb=new tb;function xb(a){return yb(a||arguments.callee.caller,[])}
function yb(a,b){var c=[];if(0<=Wa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(zb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=zb(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(yb(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function zb(a){if(Ab[a])return Ab[a];a=String(a);if(!Ab[a]){var b=/function ([^\(]+)/.exec(a);Ab[a]=b?b[1]:"[Anonymous]"}return Ab[a]}var Ab={};function O(a,b,c,d,e){this.reset(a,b,c,d,e)}O.prototype.xb=0;O.prototype.Ga=k;O.prototype.Fa=k;var Bb=0;O.prototype.reset=function(a,b,c,d,e){this.xb="number"==typeof e?e:Bb++;this.Jb=d||ka();this.U=a;this.lb=b;this.Ib=c;delete this.Ga;delete this.Fa};O.prototype.Za=function(a){this.U=a};function P(a){this.B=a}P.prototype.ea=k;P.prototype.U=k;P.prototype.na=k;P.prototype.Ja=k;function Cb(a,b){this.name=a;this.value=b}Cb.prototype.toString=aa("name");var Db=new Cb("SEVERE",1E3),Eb=new Cb("WARNING",900),Fb=new Cb("CONFIG",700),Gb=new Cb("FINE",500);P.prototype.getParent=aa("ea");P.prototype.Za=function(a){this.U=a};function Hb(a){return a.U?a.U:a.ea?Hb(a.ea):k}
P.prototype.log=function(a,b,c){if(a.value>=Hb(this).value){a=this.ib(a,b,c);b="log:"+a.lb;t.console&&(t.console.timeStamp?t.console.timeStamp(b):t.console.markTimeline&&t.console.markTimeline(b));t.msWriteProfilerMark&&t.msWriteProfilerMark(b);for(b=this;b;){c=b;var d=a;if(c.Ja)for(var e=0,f=h;f=c.Ja[e];e++)f(d);b=b.getParent()}}};
P.prototype.ib=function(a,b,c){var d=new O(a,String(b),this.B);if(c){d.Ga=c;var e;var f=arguments.callee.caller;try{var g;var l=ca("window.location.href");if(w(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"};else{var m,q,p=n;try{m=c.lineNumber||c.Hb||"Not available"}catch(v){m="Not available",p=j}try{q=c.fileName||c.filename||c.sourceURL||t.$googDebugFname||l}catch(s){q="Not available",p=j}g=p||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,
name:c.name,lineNumber:m,fileName:q,stack:c.stack||"Not available"}:c}e="Message: "+na(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+na(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+na(xb(f)+"-> ")}catch(bc){e="Exception trying to expose exception! You win, we lose. "+bc}d.Fa=e}return d};function Q(a,b){a.log(Gb,b,h)}var Ib={},Jb=k;
function Kb(a){Jb||(Jb=new P(""),Ib[""]=Jb,Jb.Za(Fb));var b;if(!(b=Ib[a])){b=new P(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Kb(a.substr(0,c));c.na||(c.na={});c.na[d]=b;b.ea=c;Ib[a]=b}return b};function Lb(a){E.call(this);this.headers=new ob;this.Q=a||k}z(Lb,L);Lb.prototype.i=Kb("goog.net.XhrIo");var Mb=/^https?$/i;r=Lb.prototype;r.H=n;r.c=k;r.ka=k;r.ca="";r.Ma="";r.S=0;r.T="";r.ra=n;r.$=n;r.ua=n;r.R=n;r.ia=0;r.D=k;r.Xa="";r.Fb=n;
r.send=function(a,b,c,d){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ca+"; newUri="+a);b=b?b.toUpperCase():"GET";this.ca=a;this.T="";this.S=0;this.Ma=b;this.ra=n;this.H=j;this.c=this.Q?ub(this.Q):ub(sb);this.ka=this.Q?this.Q.W||(this.Q.W=wb(this.Q)):sb.W||(sb.W=wb(sb));this.c.onreadystatechange=y(this.Ra,this);try{Q(this.i,R(this,"Opening Xhr")),this.ua=j,this.c.open(b,a,j),this.ua=n}catch(e){Q(this.i,R(this,"Error opening Xhr: "+e.message));Nb(this,e);return}a=
c||"";var f=this.headers.t();d&&nb(d,function(a,b){f.set(b,a)});d=t.FormData&&a instanceof t.FormData;"POST"==b&&(!f.J("Content-Type")&&!d)&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");nb(f,function(a,b){this.c.setRequestHeader(b,a)},this);this.Xa&&(this.c.responseType=this.Xa);"withCredentials"in this.c&&(this.c.withCredentials=this.Fb);try{this.D&&(kb.clearTimeout(this.D),this.D=k),0<this.ia&&(Q(this.i,R(this,"Will abort after "+this.ia+"ms if incomplete")),this.D=kb.setTimeout(y(this.Cb,
this),this.ia)),Q(this.i,R(this,"Sending request")),this.$=j,this.c.send(a),this.$=n}catch(g){Q(this.i,R(this,"Send error: "+g.message)),Nb(this,g)}};r.Cb=function(){"undefined"!=typeof ba&&this.c&&(this.T="Timed out after "+this.ia+"ms, aborting",this.S=8,Q(this.i,R(this,this.T)),this.dispatchEvent("timeout"),this.abort(8))};function Nb(a,b){a.H=n;a.c&&(a.R=j,a.c.abort(),a.R=n);a.T=b;a.S=5;Ob(a);Pb(a)}function Ob(a){a.ra||(a.ra=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
r.abort=function(a){this.c&&this.H&&(Q(this.i,R(this,"Aborting")),this.H=n,this.R=j,this.c.abort(),this.R=n,this.S=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pb(this))};r.Ra=function(){!this.ua&&!this.$&&!this.R?this.qb():Qb(this)};r.qb=function(){Qb(this)};
function Qb(a){if(a.H&&"undefined"!=typeof ba)if(a.ka[1]&&4==Rb(a)&&2==a.w())Q(a.i,R(a,"Local request error detected and ignored"));else if(a.$&&4==Rb(a))kb.setTimeout(y(a.Ra,a),0);else if(a.dispatchEvent("readystatechange"),4==Rb(a)){Q(a.i,R(a,"Request complete"));a.H=n;try{if(Sb(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.S=6;var b;try{b=2<Rb(a)?a.c.statusText:""}catch(c){Q(a.i,"Can not get status: "+c.message),b=""}a.T=b+" ["+a.w()+"]";Ob(a)}}finally{Pb(a)}}}
function Pb(a){if(a.c){var b=a.c,c=a.ka[0]?da:k;a.c=k;a.ka=k;a.D&&(kb.clearTimeout(a.D),a.D=k);a.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){a.i.log(Db,"Problem encountered resetting onreadystatechange: "+d.message,h)}}}
function Sb(a){var b=a.w(),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=j;break a;default:c=n}if(!c){if(b=0===b)a=String(a.ca).match(jb)[1]||k,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Mb.test(a?a.toLowerCase():"");c=b}return c}function Rb(a){return a.c?a.c.readyState:0}r.w=function(){try{return 2<Rb(this)?this.c.status:-1}catch(a){return this.i.log(Eb,"Can not get status: "+a.message,h),-1}};
function R(a,b){return b+" ["+a.Ma+" "+a.ca+" "+a.w()+"]"};function Tb(a){E.call(this);this.Qa=this.wa=this.Pa=this.xa=k;this.cb=[];this.q=a||"/connect/";"/"!==this.q.charAt(this.q.length-1)&&(this.q+="/");this.qa=k;this.Aa=0;this.b=this.ma=this.z=this.ab=this.n=k;this.A="";this.yb={onopen:y(this.pb,this),onmessage:y(this.ob,this),onerror:y(this.nb,this),onclose:y(this.mb,this)}}z(Tb,L);r=Tb.prototype;r.getKey=aa("n");
r.I=function(a){if(a){this.b&&this.disconnect();var b=Ub(this);if(b)return this.n=a||k,K(b,"complete",this.oa,n,this),b.send(this.q+this.n,"POST"),j}return n};r.disconnect=function(){this.b&&(this.b.close(),this.b.onopen=k,this.b.onclose=k,this.b.onmessage=k,this.b=this.b.onerror=k);this.A=this.z=this.n=this.ab=this.ma=k};function Ub(a){var b;a.Aa?b=a.cb[--a.Aa]:(b=new Lb,K(b,"complete",a.Wa,n,a));return b}
r.Wa=function(a){a&&(a=a.currentTarget||a,this.b?this.cb[this.Aa++]=a:eb(a,"complete",this.Wa,n,this))};r.sendMessage=function(a){if(this.qa){var b=Ub(this);b&&b.send(this.qa,"POST",this.A+a)}};r.pb=function(){this.xa&&this.xa()};r.ob=function(a){this.wa&&this.wa(a.data)};r.nb=function(a){this.Qa&&this.Qa(a.code,a.description)};r.mb=function(){this.b&&(this.b.onopen=k,this.b.onclose=k,this.b.onmessage=k,this.b=this.b.onerror=k);this.disconnect();this.Pa&&this.Pa()};
r.oa=function(a){var b;if(a=a.currentTarget)if(eb(a,"complete",this.oa,n,this),Sb(a)){var c;c=a.c?qb(a.c.responseText):h;if(!c||c.error)b=c?c.error:"unknown";else if(!this.n||c.key==this.n){this.n=c.key;a=c.token;var d=c.endpoint,e=c.id;this.ab=a;this.qa=d;this.z=e;this.A="k="+this.n;this.z&&(this.A+="&f="+this.z);this.A+="&m=";this.ma=new appengine.Channel(a);this.b=this.ma.open(this.yb)}}else b="server";else b="implementation";b&&(alert("socket error:"+(c?c.error:"unknown")),this.n=k)};function Vb(a,b){this.B=a;this.z=b;this.P={_time:0}};function Wb(a,b){var c;c=a.className;c=w(c)&&c.match(/\S+/g)||[];for(var d=$a(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=Wa(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};var Xb=!B||B&&9<=Ma;!C&&!B||B&&B&&9<=Ma||C&&D("1.9.1");B&&D("9");var Yb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Zb(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!Xb&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',na(g.name),'"');if(g.type){f.push(' type="',na(g.type),'"');var l={};Ta(l,g);delete l.type;g=l}f.push(">");f=f.join("")}f=e.createElement(f);if(g)if(w(g))f.className=g;else if("array"==u(g))Wb.apply(k,[f].concat(g));else{var m=f,l=function(a,b){"style"==b?m.style.cssText=a:"class"==b?m.className=a:"for"==b?m.htmlFor=a:b in Yb?m.setAttribute(Yb[b],a):0==b.lastIndexOf("aria-",
0)||0==b.lastIndexOf("data-",0)?m.setAttribute(b,a):m[b]=a},q;for(q in g)l.call(h,g[q],q)}if(2<d.length){var p=e,v=f,e=function(a){a&&v.appendChild(w(a)?p.createTextNode(a):a)};for(q=2;q<d.length;q++)if(g=d[q],ea(g)&&!(fa(g)&&0<g.nodeType)){var l=Xa,s;a:{if((s=g)&&"number"==typeof s.length){if(fa(s)){s="function"==typeof s.item||"string"==typeof s.item;break a}if("function"==u(s)){s="function"==typeof s.item;break a}}s=n}l(s?Za(g):g,e)}else e(g)}return f};function $b(){this.uri=k}la("screenstitch.Status",{UNKNOWN:"unknown",CONTACTING:"contacting-server",DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"});function S(a){E.call(this);this.b=k;this.p="unknown";this.sb=a||new $b;this.sa={};this.Ha={};this.K=this.Y=this.Z=this.$a=this.gb=0;this.Ca=[];this.ha=new M(250);K(this.ha,"tick",this.Ya,n,this);this.Na=0;this.Ab=2E3}z(S,L);function T(a){a.b||(a.b=new Tb(a.sb.uri),a.b.xa=y(a.V,a),a.b.wa=y(a.rb,a));return a.b}r=S.prototype;
r.kb=function(a,b,c){K(this,a,b,n,c)};r.Db=function(a,b,c){eb(this,a,b,n,c)};r.vb=function(a){"connected"===this.p&&(a.type?this.b.sendMessage(JSON.stringify(a)):console.log("Events must have type property."))};
r.wb=function(a,b,c){if("connected"===this.p){var d=this.Ha[a];d||(this.Ha[a]=d=new Vb(a,"g"+this.gb++));a=this.K;var e=(new Date).getTime();0===a&&(this.Z=e);var f=this.Y=e-this.Z,e=this.Ca,g=this.K,l,m=n;for(l in b)d.P[l]||(m=j),d.P[l]=b[l];d.P._time=f;if(m){b=g;e[b++]="_reg";e[b++]=d.B;e[b++]=d.z;var f=0,g=b++,q;for(q in d.P)f++,e[b++]=q;e[g]=f;g=b}e[g++]=d.z;if(c&&("_start"===c||"_end"===c))e[g++]=c;for(l in d.P)e[g++]=d.P[l];this.K=g;0===a&&!this.ha.enabled&&(this.ha.start(),this.Ya())}};
r.w=aa("p");function U(a,b){b!==a.p&&(a.p=b,a.Sa(a.p),a.dispatchEvent(new F("status")))}r.Sa=function(){};r.V=function(){};
r.rb=function(a){var b=a.charAt(0);if("["===b){a=a.substr(1,a.length-2).split(",");var c=0,b=a.length,d=parseInt(a[c++]);0===this.$a&&(this.$a=(new Date).getTime()-d);d=(new Date).getTime();for(c++;c<b;){var e=a[c++];if(this.sa[e]){var e=this.sa[e],f=d,g=a,l={};"_start"===g[c]?(l.type=e.B+"start",c++):"_end"===g[c]?(l.type=e.B+"end",c++):l.type=e.B+"change";for(var m=0;m<e.ya;++m)l[e.Ua[m]]=g[c++];l.pa=parseInt(l._time)+f;e.L[e.u++]=l;1===e.u&&setTimeout(y(e.Da,e),0)}else if("_reg"===e){f=a[c++];
e=a[c++];f=new ma(f,this);e=this.sa[e]=f;f=a;e.ya=f[c++];for(g=0;g<e.ya;++g)e.Ua[g]=f[c++]}}}else if("{"===b)try{this.dispatchEvent(JSON.parse(a))}catch(q){console.log("Failed to parse message")}else"connected"===a?("connecting"===this.p||"disconnected"===this.p)&&U(this,"connected"):"disconnected"===a&&"connected"===this.p&&U(this,"disconnected")};
r.Ya=function(){var a=(new Date).getTime();if(0<this.K){for(var b="["+this.Z+","+this.Y+",",c=0;c<this.K;++c)b+=this.Ca[c]+",";T(this).sendMessage(b);this.Z=this.Y=this.K=0;this.Na=a}else a-this.Na>this.Ab&&this.ha.stop()};S.prototype.getStatus=S.prototype.w;S.prototype.listen=S.prototype.kb;S.prototype.unlisten=S.prototype.Db;S.prototype.sendEvent=S.prototype.vb;S.prototype.sendEventStream=S.prototype.wb;function V(a){S.call(this,a);this.ga=new M(2E3);K(this.ga,"tick",this.ub,n,this)}z(V,S);V.prototype.I=function(a){return T(this).I(a)?(U(this,"contacting-server"),j):n};V.prototype.V=function(){S.prototype.V.call(this);U(this,"connecting");this.ga.start()};V.prototype.Sa=function(a){"connected"==a?this.ga.stop():"disconnected"===a&&this.ga.start()};V.prototype.ub=function(){T(this).sendMessage("_poll")};la("screenstitch.Controller",V);V.prototype.connect=V.prototype.I;function W(a,b){var c;if(a instanceof W)this.h=b!==h?b:a.h,ac(this,a.s),c=a.G,X(this),this.G=c,c=a.l,X(this),this.l=c,cc(this,a.N),c=a.j,X(this),this.j=c,dc(this,a.k.t()),c=a.v,X(this),this.v=c;else if(a&&(c=String(a).match(jb))){this.h=!!b;ac(this,c[1]||"",j);var d=c[2]||"";X(this);this.G=d?decodeURIComponent(d):"";d=c[3]||"";X(this);this.l=d?decodeURIComponent(d):"";cc(this,c[4]);d=c[5]||"";X(this);this.j=d?decodeURIComponent(d):"";dc(this,c[6]||"",j);c=c[7]||"";X(this);this.v=c?decodeURIComponent(c):
""}else this.h=!!b,this.k=new ec(k,0,this.h)}r=W.prototype;r.s="";r.G="";r.l="";r.N=k;r.j="";r.v="";r.jb=n;r.h=n;r.toString=function(){var a=[],b=this.s;b&&a.push(fc(b,gc),":");if(b=this.l){a.push("//");var c=this.G;c&&a.push(fc(c,gc),"@");a.push(encodeURIComponent(String(b)));b=this.N;b!=k&&a.push(":",String(b))}if(b=this.j)this.l&&"/"!=b.charAt(0)&&a.push("/"),a.push(fc(b,"/"==b.charAt(0)?hc:ic));(b=this.k.toString())&&a.push("?",b);(b=this.v)&&a.push("#",fc(b,jc));return a.join("")};r.t=function(){return new W(this)};
function ac(a,b,c){X(a);a.s=c?b?decodeURIComponent(b):"":b;a.s&&(a.s=a.s.replace(/:$/,""))}function cc(a,b){X(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.N=b}else a.N=k}function dc(a,b,c){X(a);b instanceof ec?(a.k=b,a.k.za(a.h)):(c||(b=fc(b,kc)),a.k=new ec(b,0,a.h))}function X(a){if(a.jb)throw Error("Tried to modify a read-only Uri");}r.za=function(a){this.h=a;this.k&&this.k.za(a);return this};function lc(a){return a instanceof W?a.t():new W(a,h)}
function fc(a,b){return w(a)?encodeURI(a).replace(b,mc):k}function mc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var gc=/[#\/\?@]/g,ic=/[\#\?:]/g,hc=/[\#\?]/g,kc=/[\#\?@]/g,jc=/#/g;function ec(a,b,c){this.g=a||k;this.h=!!c}
function Y(a){if(!a.d&&(a.d=new ob,a.a=0,a.g))for(var b=a.g.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=k,f=k;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Z(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}r=ec.prototype;r.d=k;r.a=k;r.add=function(a,b){Y(this);this.g=k;a=Z(this,a);var c=this.d.get(a);c||this.d.set(a,c=[]);c.push(b);this.a++;return this};
r.remove=function(a){Y(this);a=Z(this,a);return this.d.J(a)?(this.g=k,this.a-=this.d.get(a).length,this.d.remove(a)):n};r.J=function(a){Y(this);a=Z(this,a);return this.d.J(a)};r.M=function(){Y(this);for(var a=this.d.m(),b=this.d.M(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};r.m=function(a){Y(this);var b=[];if(a)this.J(a)&&(b=Ya(b,this.d.get(Z(this,a))));else{a=this.d.m();for(var c=0;c<a.length;c++)b=Ya(b,a[c])}return b};
r.set=function(a,b){Y(this);this.g=k;a=Z(this,a);this.J(a)&&(this.a-=this.d.get(a).length);this.d.set(a,[b]);this.a++;return this};r.get=function(a,b){var c=a?this.m(a):[];return 0<c.length?String(c[0]):b};r.toString=function(){if(this.g)return this.g;if(!this.d)return"";for(var a=[],b=this.d.M(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.m(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.g=a.join("&")};
r.t=function(){var a=new ec;a.g=this.g;this.d&&(a.d=this.d.t(),a.a=this.a);return a};function Z(a,b){var c=String(b);a.h&&(c=c.toLowerCase());return c}r.za=function(a){a&&!this.h&&(Y(this),this.g=k,nb(this.d,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.g=k,this.d.set(Z(this,d),Za(a)),this.a+=a.length))},this));this.h=a};function $(a){S.call(this,a)}z($,S);r=$.prototype;r.I=function(a){U(this,"contacting-server");if(a)T(this).I(a);else{a=T(this);a.b&&a.disconnect();var b=Ub(a);b&&(K(b,"complete",a.oa,n,a),b.send(a.q,"POST"))}};r.Eb=function(){return"disconnected"===this.w()?(U(this,"connecting"),j):n};r.hb=function(){return T(this).getKey()};
r.Ia=function(){var a;a=T(this).q;if(0!==a.indexOf("http")){var b=window.location.href;a=T(this);a=a.q;b instanceof W||(b=lc(b));a instanceof W||(a=lc(a));var c=b,b=a;a=c.t();var d=!!b.s;d?ac(a,b.s):d=!!b.G;if(d){var e=b.G;X(a);a.G=e}else d=!!b.l;d?(e=b.l,X(a),a.l=e):d=b.N!=k;e=b.j;if(d)cc(a,b.N);else if(d=!!b.j)if("/"!=e.charAt(0)&&(c.l&&!c.j?e="/"+e:(c=a.j.lastIndexOf("/"),-1!=c&&(e=a.j.substr(0,c+1)+e))),".."==e||"."==e)e="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var c=0==e.lastIndexOf("/",
0),e=e.split("/"),f=[],g=0;g<e.length;){var l=e[g++];"."==l?c&&g==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),c&&g==e.length&&f.push("")):(f.push(l),c=j)}e=f.join("/")}d?(c=e,X(a),a.j=c):d=""!==b.k.toString();d?dc(a,b.k.toString()?decodeURIComponent(b.k.toString()):""):d=!!b.v;d&&(b=b.v,X(a),a.v=b)}return a};r.fb=function(a,b){var c=Zb("img"),d=encodeURIComponent(this.Ia()+T(this).getKey());c.src="http://chart.googleapis.com/chart?cht=qr&chs="+a+"x"+b+"&chl="+d;return c};
r.V=function(){S.prototype.V.call(this);U(this,"disconnected")};la("screenstitch.Host",$);$.prototype.generateQrImage=$.prototype.fb;$.prototype.waitForClient=$.prototype.Eb;$.prototype.getConnectUri=$.prototype.Ia;$.prototype.getCode=$.prototype.hb;$.prototype.connect=$.prototype.I;})();
